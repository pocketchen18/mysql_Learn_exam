以下表示数据库管理系统的是（b   ）
A．DBA	B．DBMS	 C．DB	D．DATA
数据库系统的核心是（c ）。
A．数据库 B．软件工具C．数据模型 D．数据库管理系统
数据库与文件系统的根本区别在于( c  ) 
A．提高了系统效率	B．方便了用户使用   C．数据的结构化   D．节省了存储空间
在数据库中，下列说法（a ）是不正确的。
A．数据库避免了一切数据的重复    B．若系统是完全可以控制的，则系统可确保更新时的一致性 
C．数据库中的数据可以共享    D．数据库减少了数据冗余
下列四项中说法不正确的是(c   )
A．数据库减少了数据冗余  B．数据库中的数据可以共享  C．数据库避免了一切数据的重复   D．数据库具有较高的数据独立性
下列哪个是存储在计算机内有结构的数据的集合。b
A．数据库系统 		B．数据库			C．数据库管理系统 	D．数据结构
在DBS中，DBMS和OS之间的关系是 （a ）
A．相互调用        B．DBMS调用OS    C．OS调用DBMS   	D．并发运行
在数据库技术中，实体—联系模型是一种（a ）
    A．概念模型  B．结构模型 C．物理模型   D．逻辑模型 
数据库设计中的概念模型独立于（d ）。
A．现实世界 B．E-R图 	C．信息世界 D．具体的机器和DBMS
下列四项中，必须进行查询优化的是( a)
A．关系数据库 B．网状数据库 C．.层次数据库 D．非关系模型
数据库三级模式体系结构的划分，有利于保持数据库的（a ）
A．数据独立性 B． 数据安全性 C．结构规范化 D．操作可行性
同一个关系模型的任两个元组值（a ）。
A．不能全同 	B．可全同C．必须全同	D．以上都不是
组成关系模型二维表的最小数据单位是（ b   ）。
A．记录	B．数据项C．字段	D．数据库文件
用二维表结构表示实体以及实体间联系的数据模型称为（c ）。
A．网状模型 B．层次模型 C．关系模型 D．面向对象模型 
设有关系R和S，关系代数表达式R-(R-S)表示的是（a ）
    A．R∩S    B．R-S    C．R∪S    	D．R÷S
设有关系R(A,B,C)，在下列的等式中，哪一个是不成立的（c ）
A．σA<2(πA, B(R))=πA, B(σA<2 (R))  B．πA, C(σA<2(R))=σA<2(πA, C(R))   C．πB, C(σA<2(R))=σA<2(πB,C(R))  D．πA(πA, B (R))=πA (R)
设关系R和关系S具有相同的元数，且对应的属性取自相同的域。集合{t/t∈R∧t∈S}标记的是（d ）。
A． R∪ S 			B． R－S 			C． R×S 			D． R∩S     
SQL语言称为（c）。
A．结构化定义语言	B．结构化控制语言  C．结构化查询语言 	D．结构人操纵语言 
SQL语言具有的功能是（b ）
A．关系规范化，数据操纵，数据控制       B．数据定义，数据操纵，数据控制
C．数据定义，关系规范化，数据控制       D．数据定义，关系规范化，数据操纵
SQL语言具有两种使用方式，分别称为交互式SQL和( c  )。
A．提示式SQL	B．多用户SQL    C．嵌入式SQL 	D．解释式SQL
SQL中，“SALARY IN （1000，2000）”语义是（d ）。
A．SALARY <= 2000 AND SALARY >= 1000    B．SALARY  < 2000 AND SALARY  > 1000
C．SALARY  = 1000 AND SALARY  = 2000     D．SALARY  = 1000 OR  SALARY  = 2000
SQL中，下列涉及空值的操作，不正确的是 （c ）
A．AGE IS NULL	  B．AGE IS NOT NULL  C．AGE = NULL	  D．NOT (AGE IS NULL)
SQL语言的GRANT和REVOKE语句主要用来维护数据库的（a ）A．安全性    B．完整性   C．可靠性  D．一致性 
设有关系R=(A，B，C)。与SQL语句SELECT  DISTINCT A  FROM R  WHERE B=17等价的关系代数表达式是（c ）
A．πA (R)          B．πB=17(R) 		C．πA(σB=17(R))    D．σB=17 (πA (R)) 
设有关系R(A，B，C)和S(C，D)。与SQL语句 select A，B，D from R，S where R．C=S．C 等价的关系代数表达式是（ b ）。
A．σR.C=S.C(πA,B,D(R×S))    B．πA,B,D(σR.C=S.C (R×S))    C．σR.C=S．C((πA,BR)×(πDS))	D．σR.C=S.C(πD((πA,BR)×S))
在SQL语言中的表(Table)是数据库的（b ）
A．内模式  			B．模式   			C．外模式   		D．概念模式
当关系R和S自然联接时，能够把R和S原该舍弃的元组放到结果关系中的操作是（d ）
A． 左外联接      	B． 右外联接      	C． 外部并      	D． 全外联接
在视图上不能完成的操作是（d）。
A．在视图上定义新的视图	  B．查询操作       C．更新视图		  D．在视图上定义新的基本表
设有关系：班级（班号，专业，班长）；学生（学号，姓名，性别，班级）。学生关系中每个元组的“班级”属性值只能取空值（表示该学生没有分配班级）或者是班级关系中的某一个班号。这个要求属于关系的（b ）
A．实体完整性		B．参照完整性	   C．用户定义的完整性	     D．以上都不是
关系数据库的规范化理论主要解决的问题是（a ）。A．如何构造合适的数据逻辑结构B．如何构造合适的数据物理结构
C．如何构造合适的应用程序界面D．如何控制不同用户的数据操作权限
关系数据库规范化是为解决关系数据库中（a ）。
A．插入异常、删除异常、修改异常和数据冗余    B．提高查询速度   C．减少数据操作的复杂性  D．保证数据的安全性和完整性
现有一个关系：借阅（书号、书名，库存数，读者号，借期，还期），假如同一本书允许一个读者多次借阅，但不能同时对一种书借多本。则该关系模式的码是（b）。
A．书号	B．读者号C．书号+读D．书号+读者号+借期
1NF、2NF、3NF、BCNF、4NF之间的关系是 d      。
A1NF≥2NF≥3NF≥BCNF≥4NF         B．1NF2NF3NFBCNF4NF
C．1NF2NFBCNF3NF4NF    D．1NF2NF3NFBCNF4N
关系模式的候选码可以有(c )。
A．0个 	B．1个 C．1个或多个 		D．多个
关系模式R中的属性全部是主属性,则R的最高范式必定是（c ）。A．1N 	B．2N 	C．3N 	D．BCNF
在关系模式中,如果属性A和B存在1对1的联系,则说（d ）
A．A→B 	B．B→A C．A←→B 	D．以上都不是
当关系模式R（A,B）已属于3NF,下列说法中哪个是正确的。（c ）
A．它一定消除了插入和删除异常 	B．一定属于BCNF    C． 仍存在一定的插入和删除异常 	D．A和B都是
下列关于函数依赖的叙述中,哪一条是不正确的（b）
A．由X→ｙ，X→Z，有X→ｙZ         B．由XY→Z，有X→Z　Y→Z
C．由X→Y， WY→Z有　XW→Z       D．由X→y及Z ⊆y，有X→Z
当下述哪一条成立时，称X→y为平凡的函数依赖（b ）
A．X⊆y    B．Y⊆X   	C．X∩Y=φ    D．X∩Y≠φ
设有关系模式R(S，D，M)，其函数依赖集F：{S→D，D→M}，则关系R的规范化程度至多达到:b
A．INF    B．2NF    C．3NF    		D．BCNF
设有关系R(A,B,C,D)，其函数依赖集F={A→B,A→C,B→D}，则关系R至多满足（b ）
A．INF    B．2NF    C．3NF    D．BCNF 
关系模式规范化的最起码的要求是达到第一范式，即满足（d ）A．每个非码属性都完全依赖于主码	 B．主码属性唯一标识关系中的的元组C．关系中的元组不可重复              D．每个属性都是不可分解的
若关系模式R（U，F）属于3NF，则（c ）
A．一定属于BCNF   	B．消除了插入的删除异常  C．仍存在一定的插入和删除异常  D．属于BCNF且消除了插入和删除异常
///////设有关系模式R（A，B，C，D），F是R上成立的FD集，F=｛AB→C，D→A｝，则R的关键码为 (  )。
A．AB  B．AD	  C．BC	D．DB
//////在关系数据库中，任何二元关系模式的最高范式必定是  c     。
A．1NF	B．2NF	C．3NF	D．BCNF
关系代数表达式的优化策略中，首先要做的是(b )
A．对文件进行预处理  B．尽早执行选择运算   C．执行笛卡儿积运算		D．投影运算 
为提高效率，关系数据库系统必须进行（b）处理。
A． 定义视图B． 查询优化		C． 数据恢复	D． 数据规范化到最高范式 
下述哪一种情况不属于故障恢复系统的处理范围（d ）
A．由于逻辑错误造成的事务失败                              B．由于恶意访问造成数据不一致
C．由于电源故障导致系统停止运行，从而数据库处于不—致状态  D．由于磁头损坏或故障造成磁盘块上的内容丢失
关于“死锁”，下列说法中正确的是（d  ）
A．死锁是操作系统中的问题，数据库操作中不存在；    B．在数据库操作中防止死锁的方法是禁止两个用户同时操作数据库；
C．当两个用户竞争相同的资源时不会发生死锁；        D．只有出现并发操作时，才可能出现死锁。
填空题(数据库技术)
数据是信息的符号表示或称载体；信息是数据的内涵，是数据的语义解释。例如“世界人口已经达到 26亿”，这是信息。
数据管理技术经历了人工处理、文件系统和数据库三个阶段 。
DBMS管理的是______ 的数据。
根据数据模型的应用目的不同，数据模型分为概念模型和逻辑模型和物理模型。
在数据库的三级模式体系结构中，外模式与模式之间的映像（外模式／模式），实现了数据库的逻辑独立性。
用二维表结构表示实体以及实体间联系的数据模型称为关系 数据模型。
用树型结构表示实体类型及实体间联系的数据模型称为层次模型。
数据库管理系统（DBMS）主要功能有：数据定义、数据操作、数据库的运行管理和数据库的建立和维护
目前，数据库领域中最常用的数据模型是：层次模型、网状模型、关系模型和面向对象模型。
数据模型通常由三部分组成，它们是数据结构、数据操作和完整性约束。
在三大传统的数据模型中，具有严格的数学理论基础的是关系数据模型。
实现概念模型最常用的表示方法是E-R图。
实体与实体之间的联系的类型有：一对一、一对多、多对一、多对多。
用树型结构表示实体类型及实体间联系的数据模型称为__层次模型__。
关系数据库的关系演算语言是以___谓词演算___为基础的DML语言。
（关系代数）
在关系数据模型中，二维表的列称为属性，二维表的行称为元组。
关系代数中专门的关系运算包括：选择、投影、连接和除法。
关系代数的基本运算是并、差、选择、投影和乘积。
两个关系进行外连接时有全外连接、右外连接、左外连接三种。
外连接可以避免自然连接带来的信息丢失，外连接包括：左外连接、右外连接和全外连接。
在“学生一选课一课程”数据库中的3个关系如下：
S（S#，SNAME，SEX，AGE），SC（S#，C#，GRADE），C（C#，CNAME，TEACHER）
查找选修“数据库技术”这门课程的学生的学生姓名和成绩，若用关系代数表达式来表示为：
πSNAME。GRADE  S∞（SC∞（σCNAME='数据库技术'（C）））
（SQL语言）
在SQL语言的结构中，____有对应的存储文件，而____没有对应的存储文件。
设关系R（A，B，C）和S（A，D，E，F），有R.A=S.A。若将关系代数表达式:
πR.A,R.B,S.D,S.F（R∞S）用SQL语言的查询语句表示，则为：
     SELECT  R.A，R.B，S.D，S.F  FROM R,S  WHERE R.A=S.A 
在“学生一选课一课程”数据库中的3个关系如下： 
S(S#，SNAME,SEX，AGE)，SC(S#,C#，GRADE)，C(C#，CNAME，TEACHER)  
查找选修”数据库技术”这门课程的学生的学生名和成绩。若使用连接查询的SQL语句是：SELECT SNAME，GRADE FROM S，SC，C WHERE CNAME='数据库技术'AND_ S.S#=SC.S#_AND SC.C#=C.C#
设有两个关系R (A，B，C) 和S (C，D，E)，用SQL查询语句表达下列关系代数表达式πA，E (σB = D (R∞S))的语句是SELECT
一个SQL语句原则上可产生或处理一组记录，而主语句一次只能处理一个记录，为此必须协调两种处理方式，这是通过使用游标 或 Cursor机制来解决的。
数据库管理系统(DBMS)由以下三类程序组成：语言、控制数据库运行和维护数据库，其中的语言系统分为主语言和SQL语言。 
删除操作、修改操作和插入操作可以引发触发器
         （关系数据理论）   
在关系数据库的规范化设计中，对模式进行等价分解时，要具有无损连接性和保持函数依赖
在函数依赖中，平凡的函数依赖根据Armstrong推理规则中的 自反律就可推出。
设关系模式R (A，B，C)，F是R上成立的FD集，F = {B→A，B→C}，则分解ρ = {AB，AC}丢失的FD是 B→C。
设关系模式R (A，B，C)，F是R上成立的函数依赖集F = {B→A，B→C}，则将R分解为：R1（A，B），R2（A，C），这个分解相对于R来说丢失的函数依赖是      。
关系模式规范化需要考虑数据间的依赖关系，人们已经提出了多种类型的数据依赖，其中最重要的是函数依赖和多值依赖 。
一个关系R不属于2NF就会产生插入异常、删除异常和修改复杂。
两个函数依赖集F和G等价的充分必要条件F⊆ G+，和G⊆ F+
关系模式规范化过程中，若要求分解保持函数依赖，那么模式分解一定可以达到3NF，但不一定能达到BCNF。
如果一个满足1NF关系的所有属性合起来组成一个关键字，则该关系最高满足的范式是3NF (在1NF、2NF、3NF范围内)。
从关系规范化理论的角度讲，一个只满足1NF的关系可能存在的四方面问题是：数据冗余度大、修改异常、插入异常和删除异常。
（数据库设计）
在数据库设计的各阶段中，每个阶段都有自己的设计内容，“为哪些表，在哪些属性上建立什么样的索引”这一设计内容应该属于_数据库物理设计_阶段。
一个类可以从直接的或间接的祖先中继承所有属性和方法。采用这个方法提高了软件的可重用性 (或共享性) 。
数据库设计分为六个阶段：需求分析、概念结构设计、逻辑结构设计、物理结构设计、数据库设施、运行和维护。
在有泛化/细化联系的对象类型之间，较低层的对象类型称为子类型
概念结构是对现实世界中的一种抽象，这种抽象有分类、聚集、概括。
将E-R图中的实体和联系转换为关系模型中的关系，这是数据库设计过程中逻辑结构 或 逻辑设计阶段的任务。
在设计分E-R图时，由于各个子系统分别有不同的应用，所以各个分E-R图之间难免有不一致的地方，这些冲突主要有属性、命名和结构三类。
        （数据库管理系统）
在计算机软件系统的体系结构中，数据库管理系统位于用户和操作系统 之间。
IBM DB2对关系型数据库进行面向对象的扩展，提供对面向对象的支持，主要包括：用户定义数据类型(UDT)，用户定义函数(UDF)和大对象(LOB)，形成新一代对象关系型_数据库系统。
如果多个事务在某个调度下的执行结果与这些事务在某个串行调度下的执行结果相同，则称这个调度为可串行化调度。
为保证对故障恢复的支持，登记日志记录时必须先把日志记录写到外存的日志文件中，再把相应的数据库修改写到外存的数据库中。这称做先写日志 原则。
事务必须具有的四个性质是：原子性、一致性、隔离性和持久性。通过加锁可以保证处理程序并发时的数据一致性。 
事务有活动状态、局部提交状态、失败状态、中止状态和提交状态。
DB并发操作通常会带来三类问题，它们是丢失更新、 不可重复读和读脏数据。
数据库管理系统(DBMS) 提供数据操纵语言(DML) 及它的翻译程序，实现对数据库数据的操作，包括数据插入、删除、更新和查询 。
恢复的实现技术有转储和登记日志文件。
设两个关系有参照和被参照的联系，当在被参照关系中删除元组时有：级联删除、不允许删除和置空值删除三种不同的策略。
在数据库并发控制中，两个或更多的事务同时处于相互等待状态，称为死锁。
数据库的完整性是指数据的实体的完整性和参照完整性 。
________ 和________ 一起组成了DBMS的安全子系统
基本的封锁类型有排它锁和共享锁两种。
若事务T对数据对象A加了S锁，则其他事务只能对数据A再加 S锁  ，不能加  X锁  ，直到事务T释放A上的锁。
安全性控制的一般方法有______ 、______、______、_______、______。
数据库系统在运行过程中,可能会发生故障,故障主要有事务故障、系统故障、介质故障、病毒故障四类。
数据转储可分为静态存储和动态存储两种方式。
封锁对象的大小称为封锁粒度 。
______是对数据库系统的静态特性的描述，______是对数据库动态特性的描述。
数据库保护包含数据的________、 _____、_____、
关系的完整性约束是指实体的完整、参照的完整性、用户定义的完整性。
数据库系统是利用存储在外存上的其他地方的来重建被破坏的数据库，它主要有数据库和日志文件两种。
在数据库中，死锁的预防通常有_____和_____两种。
数据库完整性的静态约束条件分为：值的约束和______。
DBMS并发控制的单位为事务。
数据库恢复要涉及到的两个技术是转储和登记日志文件。
（其它）
分布式数据库中定义数据分片时，必须满足三个条件：完备性条件、重构条件和不相交条件。
分布式数据库系统中透明性层次越高，应用程序的编写越简单 (或容易)。
数据库中常用的四种文件组织方式是：顺序文件、随机文件、散列文件、倒排文件。 
关系数据操作语言(DML)的特点是：操作对象与结果均为关系、操作的______、语言一体化、并且是建立在数学理论基础之上。 
数据库的物理设计主要考虑三方面的问题：选择存取方法、分配存储空间、实现存取路径。 
构成系统说明书的两个重要文档是______。 
当数据库系统的概念模式改变时（）要作相应的改变，以保证外模式保不变。 
函数依赖X→Y能由Armstrong推理规则导出的充分必要条件是()。 
嵌入式SQL需要用（游标）把集合操作转换成单记录处理方式。 
在SQL中表达完整性约束的规则有多种形式，其主要约束有（）。 
客户/服务器体系结构的关键在于（ ）。
在数据库管理系统的层次结构中，数据存取层处理的对象是单个【元组 或 记录】。它把上层的集合操作转化为单记录操作。
一般来说，商品化的数据库管理系统，如Oracle，其产品主要包括数据库服务器软件、【开发工具 或 工具】软件和连接软件三类。
PowerDesigner是SYBASE公司提供的CASE工具，它包括多个模块，其中用于数据库概念数据建模(CDM)的模块是【DataArchitect】。
一个类可以从直接的或间接的祖先中继承所有属性和方法。采用这个方法提高了软件的__可重用性 (或共享性)__。
分布式数据库中定义数据分片时，必须满足三个条件：完备性条件、重构条件和____不相交条件___。
分布式数据库系统中透明性层次越高，应用程序的编写越______简单 (或容易_________。
在有泛化/细化联系的对象类型之间，较低层的对象类型称为______子类型_________。
判断题
数据库系统与数据库管理系统概念是一样的。 （×）
完整的数据库系统是由计算机硬件、操作系统、数据库管理系统、数据库及在其上面开发的应用软件的全体组成。（√）
关系模型是以图的形式来描述实体之间的联系。（×）
组成关系模型二维表的最小数据单位是数据项。（√）
数据库事务的原子性是指事务在执行过程中不能中断。（√）
对关系模型来说，范式级别越高，实际应用效果越好。（×）
关系模式实质上是一个二维表。（×）
4.应用程序员的职责是设计和编写应用系统的程序模块，并进行调试和安装。（√）
在关系连接运算中自然连接和等值连接是相同的。（×）
关系模式和关系是相同的。（×）
在关系中列的顺序无所谓，即列的次序可以任意交换。（√）
任意两个元组不能完全相同。（√）
若关系R满足2NF，则在R中不存在传递函数依赖。（×）
若关系R满足2NF，则在R中不存在部分函数依赖。（√）
若关系R满足BCNF，则在R中每个确定因素都包含码。（√）
面向集合的操作方式是SQL语言的特点之一。（√）
设关系R（A，B，C）和S（A，D，E，F），有R.A=  S.A。用SQL语句：
SELECT  R.A，R.B，S.D，S.F  FROM R,S  WHERE R.A（*）=S.A 进行连接查询。这个连接是右连接。（×）
视图是关系数据库系统提供给用户以多种角度观察数据库中的数据的重要机制。（√）
视图也是一个表。（×）
日志文件是记录用户对数据库所做的操作。（×）
简答题
试述文件系统与数据库系统的区别和联系。
    答：文件系统与数据库系统的区别： 
　　文件系统面向某一应用程序，共享性差、冗余度大，独立性差，纪录内有结构、整体无结构，应用程序自己控制。 
    数据库系统面向现实世界，共享性高、冗余度小，具有高度的物理独立性和一定的逻辑独立性，整体结构化，用数据模型描述，            由数据库管理系统提供数据安全性、完整性、并发控制和恢复能力。 
文件系统与数据库系统的联系是：文件系统与数据库系统都是计算机系统中管理数据的软件
试述数据库系统的特点。
    答：数据库系统的主要特点有： 
　　1）数据结构化 
　　数据库系统实现整体数据的结构化，这是数据库的主要特征之一，也是数据库系统与文件系统的本质区别。 
　　2）数据的共享性高，冗余度低，易扩充 
　　数据库的数据不再面向某个应用而是面向整个系统，因此可以被多个用户、多个应用、用多种不同的语言共享使用。由于数据面向整个系统，是有结构的数据，不仅可以被多个应用共享使用，而且容易增加新的应用，这就使得数据库系统弹性大，易于扩充。 
　　3）数据独立性高 
　　数据独立性包括数据的物理独立性和数据的逻辑独立性。 
　　数据库管理系统的模式结构和二级映象功能保证了数据库中的数据具有很高的物理独立性和逻辑独立性。 
　　4）数据由 DBMS统一管理和控制 
　　数据库的共享是并发的共享，即多个用户可以同时存取数据库中的数据甚至可以同时存取数据库中同一个数据。为此， DBMS必须提供统一的数据控制功能，包括数据的安全性保护，数据的完整性检查，并发控制和数据库恢复。 
什么是数据的逻辑独立性？ 
    答：当对数据库的概念模式进行修改时，内模式尽可能保持不变或尽量少的作修改，即对概念模式的修改尽量不影响外模式和应用程序，称数据库达到了逻辑数据独立性。
数据库管理系统的主要功能有哪些？
   答：①数据库定义功能； ②数据存取功能；③数据库运行管理；④数据库的建立和维护功能。　
试述数据模型的三个要素。
    数据模型通常由数据结构、数据操作和完整性约束三部分组成。 
　　①数据结构：是所研究的对象类型的集合，是对系统的静态特性的描述。 
　　②数据操作：是指对数据库中各种对象（型）的实例（值）允许进行的操作的集合，包括操作及有关的操作规则，是对系统动态特性的描述。 
③数据的约束条件：是完整性规则的集合，完整性规则是给定的数据模型中数据及其联系所具有的制约和依存规则，用以限定符合数据模型的数据库状态以及状态的变化，以保证数据的正确、有效、相容。 
试述关系模型的三个组成部分
    答：关系模型由关系数据结构、关系操作集合和关系完整性约束三部分组成
数据库的三级模式和两级映象体系结构中，模式／内模式映象存在于概念级和内部级之间，用于定义概念模式和内模式间的对应性。其主要作用是什么？
  答：由于概念模式和内模式的两级的数据结构可能不-致，即记录类型、字段类型的命名、组成可能不一致，用这个映象说明概念记录和内部记录间的对应性。
在参照完整性中，为什么外部码属性的值也可以为空？什么情况下才可以为空？
    答：在参照完整性中，外部码属性的值可以为空，它表示该属性的值尚未确定。但前提条件是该外部码属性不是其所在关系的主属性。例如，在下面的 “学生”表中，“专业号”是一个外部码，不是学生表的主属性，可以为空。其语义是，该学生的专业尚未确定。 
　　学生（学号，姓名，性别，专业号，年龄）专业（专业号，专业名）
　　而在下面的 “选修”表中的“课程号”虽然也是一个外部码属性，但它又是“选修”表的主属性，所以不能为空。因为关系模型必须满足实体完整性。课程（课程号，课程名，学分）选修（学号，课程号，成绩）
试叙述等值连接与自然连接的区别和联系
    答：自然连接（ Natural join）是一种特殊的等值连接，它要求两个关系中进行比较的分量必须是相同的属性组，并且要在结果中把重复的属性去掉。
关系代数的其本运算有哪些？
    答：基本运算有：并、差、笛卡尔积、选择、投影。
关系模式和关系实例有什么区别？
    答：关系模式是型，是对关系的描述，描述元组集合的结构、元组语义以及完整性约束条件和属性间的数据依赖关系集合。
关系实例是值，是某时刻关系的值
试述SQL语言的特点。
    答：SQL语言具有以下特点：
（1）综合统一。 SQL语言集数据定义语言DDL、数据操纵语言DML、数据控制语言DCL的功能于一体。 
（2）高度非过程化。用SQL语言进行数据操作，只要提出“做什么”，而无须指明“怎么做”，因此无需了解存取路径，存取路径的选择以及SQL语句的操作过程由系统自动完成。 
（3）面向集合的操作方式。SQL语言采用集合操作方式，不仅操作对象、查找结果可以是元组的集合，而且一次插入、删除、更新操作的对象也可以是元组的集合。 
（4）以同一种语法结构提供两种使用方式。SQL语言既是自含式语言，又是嵌入式语言。作为自含式语言，它能够独立地用于联机交互的使用方式，也能够嵌入到高级语言程序中，供程序员设计程序时使用。 
（5）语言简捷，易学易用
什么是基本表？什么是视图？两者的区别和联系是什么？
    答：基本表是本身独立存在的表，在 SQL中一个关系就对应一个表。 
视图是从一个或几个基本表导出的表。视图本身不独立存储在数据库中，是一个虚表。即数据库中只存放视图的定义而不存放视图对应的数据，这些数据仍存放在导出视图的基本表中。视图在概念上与基本表等同，用户可以如同基本表那样使用视图，可以在视图上再定义视图。 
两个关系进行外连接时有哪几种类型？
左外连接,右外连接
什么是相关子查询？什么是不相关子查询？
如果子查询的查询条件依赖于父查询,这类子查询称为相关子查询;如果子查询的查询条件不依赖于父查询,称为不相关子查询.
试述视图的优点。
    答：视图有以下优点：
(1)视图能够简化用户的操作。 (2)视图使用户能以多种角度看待同一数据。
(3)视图对重构数据库提供了一定程度的逻辑独立性(4)视图能够对机密数据提供安全保护。
什么是数据库的安全性？
    答：数据库的安全性是指保护数据库以防止不合法的使用所造成的数据泄露、更改或破坏。
试述实现数据库安全性控制的常用方法和技术。
     答：实现数据库安全性控制的常用方法和技术有： 
用户标识和鉴别：该方法由系统提供一定的方式让用户标识自己的名字或身份。每次用户要求进入系统时，由系统进行核对，通过鉴定后才提供系统的使用权。 
存取控制：通过用户权限定义和合法权检查确保只有合法权限的用户访问数据库，所有未被授权的人员无法存取数据。例如C2级中的自主存取控制（DAC），B1级中的强制存取控制（MAC）； 
视图机制：为不同的用户定义视图，通过视图机制把要保密的数据对无权存取的用户隐藏起来，从而自动地对数据提供一定程度的安全保护。 
审计：建立审计日志，把用户对数据库的所有操作自动记录下来放入审计日志中， DBA可以利用审计跟踪的信息，重现导致数据库现有状况的一系列事件，找出非法存取数据的人、时间和内容等。 
数据加密：对存储和传输的数据进行加密处理，从而使得不知道解密算法的人无法获知数据的内容。 
什么是数据库中的自主存取控制方法?
    答：自主存取控制方法：定义各个用户对不同数据对象的存取权限。当用户对数据库访问时首先检查用户的存取权限。防止不合法用户对数据库的存取
什么是数据库中的强制存取控制方法？
    答：强制存取控制方法：每一个数据对象被（强制地）标以一定的密级，每一个用户也被（强制地）授予某一个级别的许可证。系统规定只有具有某一许可证级别的用户才能存取某一个密级的数据对象。
什么是数据库的完整性？
    答：数据库的完整性是指数据的正确性和相容性。
数据库的完整性概念与数据库的安全性概念有什么区别和联系？
    答：数据的完整性和安全性是两个不同的概念，但是有一定的联系。 
　　前者是为了防止数据库中存在不符合语义的数据，防止错误信息的输入和输出，即所谓垃圾进垃圾出（ Garbage In Garbage Out）所造成的无效操作和错误结果。 后者是保护数据库防止恶意的破坏和非法的存取。 也就是说，安全性措施的防范对象是非法用户和非法操作，完整性措施的防范对象是不合语义的数据。 
DBMS的完整性控制机制应具有哪些功能？
    答： DBMS的完整性控制机制应具有三个方面的功能： 
定义功能，即提供定义完整性约束条件的机制。 
检查功能，即检查用户发出的操作请求是否违背了完整性约束条件。 
3)  违约反应：如果发现用户的操作请求使数据违背了完整性约束条件，则采取一定的动作来保证数据的完整性。
RDBMS在实现参照完整性时需要考虑哪些方面？
  答： RDBMS在实现参照完整性时需要考虑以下几个方面： 
外码是否可以接受空值 
删除被参照关系的元组时的考虑，这时系统可能采取的作法有三种： 
级联删除（CASCADES）；(b)受限删除（RESTRICTED）；(c) 置空值删除（NULLIFIES）
在参照关系中插入元组时的问题，这时系统可能采取的作法有：  （a）受限插入 (b) 递归插入
修改关系中主码的问题 
　　一般是不能用 UPDATE语句修改关系主码的。如果需要修改主码值，只能先删除该元组，然后再把具有新主码值的元组插入到关系中。 如果允许修改主码，首先要保证主码的唯一性和非空，否则拒绝修改。然后要区分是参照关系还是被参照关系。 
两个函数依赖集F和G等价的充分必要条件是什么？
    答:F中每个FD在G+ 中，并且G中每个FD也在F+ 中。
什么是多值依赖中的数据依赖？
    答：在关系模式中，函数依赖不能表示属性值之间的一对多联系，这些属性之间有些虽然没有直接关系，但存在间接的关系，把没有直接联系、但有间接的联系称为多值依赖的数据依赖。
试述数据库设计过程的各个阶段上的设计描述。
     答：各阶段的设计要点如下： 
需求分析：准确了解与分析用户需求（包括数据与处理）。 
概念结构设计：通过对用户需求进行综合、归纳与抽象，形成一个独立于具体DBMS的概念模型。 
逻辑结构设计：将概念结构转换为某个DBMS所支持的数据模型，并对其进行优化。 
数据库物理设计：为逻辑数据模型选取一个最适合应用环境的物理结构（包括存储结构和存取方法）。 
数据库实施：设计人员运用DBMS提供的数据语言、工具及宿主语言，根据逻辑设计和物理设计的结果建立数据库，编制与调试应用程序，组织数据入库，并进行试运行。 
    6)数据库运行和维护：在数据库系统运行过程中对其进行评价、调整与修改。
//////概念模型（E-R图）到关系数据模型的转换原则是什么？
什么是数据库的概念结构及特点？
    答： 概念结构是信息世界的结构，即概念模型，其主要特点 1.能真实、充分地反映现实世界，包括事物和事物之间的联系，能满足用户对数据的处理要求。是对现实世界的一个真实模型。 
易于理解，从而可以用它和不熟悉计算机的用户交换意见，用户的积极参与是数据库的设计成功的关键。 
易于更改，当应用环境和应用要求改变时，容易对概念模型修改和扩充。
易于向关系、网状、层次等各种数据模型转换
试述RDBMS查询优化的一般准则。
    答：查询优化的一般准则是：
( l ）选择运算应尽可能先做；( 2 ）把投影运算和选择运算同时进行；( 3 ）把投影同其前或其后的双目运算结合起来执行
( 4 ）把某些选择同在它前面要执行的笛卡儿积结合起来成为一个连接运算；( 5 ）找出公共子表达式；
 ( 6 ）选取合适的连接算法。
试述事务的概念及事务的四个特性
    答：事务是用户定义的一个数据库操作序列，这些操作要么全做要么全不做 ,是一个不可分割的工作单位。 
事务具有四个特性：原子性（ Atomicity）、一致性（Consistency）、隔离性（Isolation）和持续性（Durability）。这个四个特性也简称为ACID特性。 
原子性：事务是数据库的逻辑工作单位，事务中包括的诸操作要么都做，要么都不做。 
一致性：事务执行的结果必须是使数据库从一个一致性状态变到另一个一致性状态。 
隔离性：一个事务的执行不能被其他事务干扰。即一个事务内部的操作及使用的数据对其他并发事务是隔离的，并发执行的各个事务之间不能互相干扰。 
持续性：持续性也称永久性（ Permanence），指一个事务一旦提交，它对数据库中数据的改变就应该是永久性的。接下来的其他操作或故障不应该对其执行结果有任何影响。
数据库运行中可能产生的故障有哪几类？哪些故障影响事务的正常执行？哪些故障破坏数据库数据？
      答：数据库系统中可能发生各种各样的故障，大致可以分以下几类： 
　　（1）事务内部的故障； （2）系统故障；（3）介质故障（4）计算机病毒。
事务故障、系统故障和介质故障影响事务的正常执行；介质故障和计算机病毒破坏数据库数据。 
数据库恢复的基本技术有哪些？ 
    答：数据转储和登录日志文件是数据库恢复的基本技术。 
　　当系统运行过程中发生故障，利用转储的数据库后备副本和日志文件就可以将数据库恢复到故障前的某个一致性状态。
什么是日志文件？为什么要设立日志文件？  
    答：（1）日志文件是用来记录事务对数据库的更新操作的文件。 
　　（2）设立日志文件的目的是： 进行事务故障恢复；进行系统故障恢复；协助后备副本进行介质故障恢复。
数据库故障有哪些类型？针对不同的故障，试给出恢复的策略和方法。（即如何进行事务故障的恢复？系统故障的恢复？介质故障恢复？） 
      答：数据库故障有：事务故障、系统故障、介质故障和计算机病毒。
1）事务故障的恢复：事务故障的恢复是由 DBMS自动完成的，对用户是透明的。 
DBMS执行恢复步骤是： 
　　（1）反向扫描文件日志（即从最后向前扫描日志文件），查找该事务的更新操作。 
　　（2）对该事务的更新操作执行逆操作。即将日志记录中“更新前的值”写入数据库。 
　　（3）继续反向扫描日志文件，做同样处理。 
　　（4）如此处理下去，直至读到此事务的开始标记，该事务故障的恢复就完成了。 
　　2）系统故障的恢复： 
　　系统故障可能会造成数据库处于不一致状态： 
　　一是未完成事务对数据库的更新可能已写入数据库； 
　　二是已提交事务对数据库的更新可能还留在缓冲区，没来得及写入数据库。 
　　因此恢复操作就是要撤销 (UNDO)故障发生时未完成的事务，重做(REDO)已完成的事务。 
　　系统的恢复步骤是： 
　　（1）正向扫描日志文件，找出在故障发生前已经提交的事务队列（REDO队列）和未完成的事务队列（UNDO队列）。 
　　（2）对撤销队列中的各个事务进行UNDO处理。 
　　进行 UNDO处理的方法是，反向扫描日志文件，对每个UNDO事务的更新操作执行逆操作，即将日志记录中“更新前的值”（Before Image）写入数据库。 
　　（3）对重做队列中的各个事务进行REDO处理。 
　　进行 REDO处理的方法是：正向扫描日志文件，对每个REDO事务重新执行日志文件登记的操作。即将日志记录中“更新后的值”（After Image）写入数据库。 
　　3) 介质故障的恢复： 
　　介质故障是最严重的一种故障。 
　　恢复方法是重装数据库，然后重做已完成的事务。具体过程是： 
　　（1）DBA装入最新的数据库后备副本（离故障发生时刻最近的转储副本），使数据库恢复到转储时的一致性状态。 
　　（2）DBA装入转储结束时刻的日志文件副本 
　　（3）DBA启动系统恢复命令，由DBMS完成恢复功能，即重做已完成的事务。
在数据库中为什么要并发控制？并发控制能保证事务的哪些特性？     答：数据库是共享资源，通常有许多个事务同时在运行。 
　　当多个事务并发地存取数据库时就会产生同时读取和 /或修改同一数据的情况。若对并发操作不加控制就可能会存取和存储不正确的数据，破坏数据库的一致性。所以数据库管理系统必须提供并发控制机制。
并发操作可能会产生哪几类数据不一致？用什么方法能避免各种不一致的情况？
       答：并发操作带来的数据不一致性包括三类：丢失修改、不可重复读和读 “脏”数据。 
　　（1）丢失修改（Lost Update） 
　　两个事务 T1和T2读入同一数据并修改，T2提交的结果破坏了（覆盖了）T1提交的结果，导致T1的修改被丢失。 
　　（2）不可重复读（Non-Repeatable Read） 
　　不可重复读是指事务 T1读取数据后，事务T2执行更新操作，使T1无法再现前一次读取结果。 
　　（3）读“脏”数据（Dirty Read） 
　　读 “脏”数据是指事务T1修改某一数据，并将其写回磁盘，事务T2读取同一数据后，T1由于某种原因被撤销，这时T1已修改过的数据恢复原值，T2读到的数据就与数据库中的数据不一致，则T2读到的数据就为“脏”数据，即不正确的数据。 
　　避免不一致性的方法和技术就是并发控制。最常用的并发控制技术是封锁技术。 
　　也可以用其他技术，例如在分布式数据库系统中可以采用时间戳方法来进行并发控制。
什么是封锁？基本的封锁类型有几种？试述它们的含义。
     答：封锁就是事务 T在对某个数据对象例如表、记录等操作之前，先向系统发出请求，对其加锁。加锁后事务T就对该数据对象有了一定的控制，在事务T释放它的锁之前，其他的事务不能更新此数据对象。 
　　封锁是实现并发控制的一个非常重要的技术。 
　　基本的封锁类型有两种 : 排它锁(Exclusive Locks，简称X锁) 和共享锁(Share Locks，简称S锁)。 
　　排它锁又称为写锁。若事务 T对数据对象A加上X锁，则只允许T读取和修改A，其他任何事务都不能再对A加任何类型的锁，直到T释放A上的锁。这就保证了其他事务在T释放A上的锁之前不能再读取和修改A。 
　　共享锁又称为读锁。若事务 T对数据对象A加上S锁，则事务T可以读A但不能修改A，其他事务只能再对A加S锁，而不能加X锁，直到T释放A上的S锁。这就保证了其他事务可以读A，但在T释放A上的S锁之前不能对A做任何修改。
什么是活锁？什么是死锁？ 
    答：活锁产生的原因：当一系列封锁不能按照其先后顺序执行时，就可能导致一些事务无限期等待某个封锁，从而导致活锁。在数据库中，产生死锁的原因是两个或多个事务都已封锁了一些数据对象，然后又都请求已被其他事务封锁的数据加锁，从而出现死等待。
什么样的并发调度是正确的调度？ 
     答：可串行化（ Serializable）的调度是正确的调度。 
　　可串行化的调度的定义：多个事务的并发执行是正确的，当且仅当其结果与按某一次序串行地执行它们时的结果相同，我们称这种调度策略为可串行化的调度。
数据库是一个共享资源，在多用户共享系统中，并发操作的含义是什么？
     答：在多用户共享系统中，多个用户同时对同一数据进行操作称为并发操作。
设关系模式R(A，B) 和S(C，D)，有关系代数表达式E = πA，C(σB = ‘d’(R×S))，请画出表达式E的语法树。
什么是分布式数据库的分布透明性？
答: 分布透明性是指用户不必关心数据的逻辑分片，不必关心数据物理位置分配的细节，也不必关心各个场地上数据库的数据模型。
什么是对象关系数据模型？
答:在传统的关系数据模型基础上，提供元组、数组、集合等数据类型以及处理新的数据类型操作的能力，这样形成的数据模型，称为“对象关系数据模型”。
简述ORDBS的中文含义。
答：基于对象关系数据模型的DBS称为对象关系数据库系统（ORDBS）

没有关系R和S如下，写出R÷S计算结果。







R
设有描述学校情况的U关系。
　　U（S＃，SD，MN，CN，G）
　　其中：S＃属性表示学生学号，SD表示学生所在系名，MN表示系主任，CN表示课程名，G表示成绩。一个系有若干名学生，一个学生只属于一个系，一个系只有一名系主任，一个学生可选多门课，每个学生选每门课有一个成绩。试写出U关系中的函数依赖，并给每个函数依赖一个简短说明。
答：S＃→SD 学生学号，决定其所在系名；SD→MN 系名决定了其所在系的系主任；
	S＃，CN→G学号和课程决定该生此课程的成绩。
设有关系模式R (A，B，C，D)，F是R上成立的函数依赖集，F = {D→A，D→B}，试写出关系模式R的候选键，并说明理由。
答: ①R的候选键是CD②理由：从已知的F，可导出D→ABD，再根据增广律，可得出CD→ABCD，即CD值可决定全部属性值。
什么是封锁的粒度？ 封锁对象的大小称为封锁粒度
设计题 
在“学生一选课一课程”数据库中的3个关系如下：
学生(学号，姓名，年龄，性别)
选课(学号，课程号，成绩) 
课程(课程号，课程名，学分，任课教师)
  1）用关系代数表达式和SQL语句表示下列查询。
⑴ 查询WANG同学不学的课程号。
⑵ 查询选修“数据库原理”这门课程的学生姓名和成绩。
2）用SQL语句完成下列要求： 
⑴ 统计每门课程的学生选修人数（超过10人的课程才统计）。要求输出课程名和选修人数。
⑵ 在SC中查询成绩为空值的学生学号和课程号。
在“学生一选课一课程”数据库中的3个关系如下：
S（S#，SNAME，AGE,SEX，CLASS）；
SC（S#，C#，GRADE） 
C（C#，CNAME，PERIOD，TEACHER）
其中：S是学生关系，S#：学号，SMAME：姓名，AGE：年龄，SEX：性别，CLASS：班级；
SC是学生选课关系，S#：学号，C#：课程号，GRADE：成绩；
C是课程关系，C#：课程号，CNAME：课程名，PERIOD:学时，TEACHER：任课教师。
（一）试用关系代数表达式和SQL语言表示下列查询要求。
查询选修了课程名为DB的学生姓名和所在班级。
     πSNAME,CLASS(S∞SC∞σCNAME='DB' ( C))
SELECT SNAME, CLASS FROM S
WHERE SNO IN （SELECT SNO FROM SC，C
WHERE SC.SNO=C.CNO AND CNAME='DB'）
查询‘刘军’老师所授课程的课程号、课程名。
    πC#,CNAME(σTEACHER='刘军'(C))
SELECT C#，CNAME　FROM C 　WHERE TEACHER=‘LIU’
查询学号为S3学生所学课程的课程名与任课教师名。
     πCNAME,TEACHER(σS#='S3'∧SC.C#=C.C#(SC×C)) 
(也可将两个关系自然连接后选择、投影) 
πCNAME,TEACHER(σS#='S3' ( S∞SC))
查询至少选修LIU老师所授课程中一门课程的女学生的姓名。
     πSNAME(σSEX='女'∧TEACHER='刘军'(S∞SC∞C))
SELECT SNAME FROM S WHERE SEX=‘F’ AND S# IN 
　(SELECT S# 　FROM SC　WHERE C# IN 
(SELECT C#　FROM C 　WHERE TEACHER=‘LIU’)
查询WANG同学不学的课程号。
    πC#(SC)- πC#(σSNAME='WANG'∧S.S#=SC.S#(S×SC)) 
SELECT C# 　FROM C 　WHERE C# NOT IN 
(SELECT C# 　FROM SC WHERE S# IN
(SELECT S# FROM S 　WHERE SNAME='WANG'))
查询至少选修两门课程的学生学号。
    πS#(σ1=4∧2≠5(SC×SC)) (SC自乘之后，同一个学号下两个课程号不同的元组)
SELECT S#　FROM　SC GROUP BY S# 　HAVING COUNT(C#)>＝2
查询全部学生都选修的课程的课程号与课程名。
     πC#, CNAME (SC∞(πS#,C#(SC)÷πS#(S)))
 (涉及到全部值时，应用除法，“除数”是全部量。)
 SELECT C#,CNAME 　FROM C 　WHERE NOT EXISTS 
　　 　　(SELECT * 　FROM S 　WHERE NOT EXISTS 
　　(SELECT * 　FROM SC 　WHERE SC.S#=S.S# AND SC.C#=C.C#))
查询选修课程包含刘军老师所授课程的学生学号。
     πS#(σTEACHER='刘军'(S∞SC∞C))
　　 　SELECT S# FROM S 　WHERE S# IN 
　　 　　(SELECT S#　FROM SC WHERE S.S#=SC.S# AND C# IN
　　 　　　(SELECT C#　FROM C　WHERE TEACHER='LIU'))
　　 （请讨论一下，本题是否可如此：SELECT DISTINGCT 
S# FROM SC WHERE EXISTS (SELECT C# FROM C WHERE TEACHER='LIU')）
（二）试用SQL查询语句表达下列对教学数据库中三个基本表S、SC、C的查询要求：
统计有学生选修的课程门数。
    SELECT COUNT(DISTINCT C#) FROM SC
求选修C4课程的学生的平均年龄。
       SELECT AVG(AGE) FROM S WHERE S# IN 
(SELECT S# FROM SC WHERE C#='C4')
求LIU老师所授课程的每门课程的学生平均成绩。
      SELECT CNAME,AVG(GRADE) FROM SC ,C WHERE C# IN 
(SELECT C# FROM C WHERE TEACHER='LIU') 
GROUP BY C#
统计每门课程的学生选修人数（超过10人的课程才统计）。要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列。
     SELECT DISTINCT C#,COUNT(S#) FROM SC
GROUP BY C#　HAVING COUNT(S#)>10 ORDER BY 2,C# DESC
查询学号比WANG同学大，而年龄比他小的学生姓名。
      SELCET SNAME FROM S AS X WHERE X.S#>SOME
(SELECT S# FROM S AS Y WHERE Y.SNAME='WANG' AND X.AGE<Y.AGE)
查询姓名以WANG打头的所有学生的姓名和年龄。
          SELECT SNAME,AGE FROM S WHERE SNAME LIKE 'WANG%'
在SC中检索成绩为空值的学生学号和课程号。
      SELECT S#,C# FROM SC WHERE GRADE IS NULL
求年龄大于女同学平均年龄的男学生姓名和年龄。
      SELECT SNAME,AGE  FROM S AS X 
WHERE　X.SEX='M' AND X.AGE>(SELECT AVG(AGE) FROM S AS Y WHERE Y.SEX='F')
求年龄大于所有女同学年龄的男学生姓名和年龄。
      SELECT SNAME,AGE FROM S AS X 
WHERE X.SEX='M' AND X.AGE>ALL (SELECT AGE FROM S AS Y WHERE Y.SEX='F')
查询‘刘军’老师所教的所有课程的课号和学时
求在本学期任课的全部教师姓名，担任两门课以上的教师只出现一次。
查询23岁以上男生的学号和姓名。
求所有男生的学号、姓名、年龄。要求按年龄递增排序。
求关系S中学生总数
求学习‘C2’课的学生总数：
现有图书借阅关系数据库如下：
图书（图书号、书名，作者，单价，库存量）
读者（读者号，姓名，工作单位，地址）
借阅（图书号，读者号，借期，还期，备注）
其中：还期为NULL表示该书未还。 
(一)用关系代数表达式实现下列1-4小题：
检索读者号为R016的读者姓名、工作单位；
    π姓名,工作单位(σ读者号=‘R016’（读者）)
检索借阅图书号为B5的读者姓名；
     π姓名 (（σ图书号=‘B5’（读者））∞借阅)
检索读者“李林”所借图书的书名；
    Π姓名,书名(（σ姓名='李林'（读者））∞借阅∞书))
检索读者“李林”所借图书中未还的书名；
     π姓名,书名(（σ姓名='李林'∧还期IS NULL（读者））∞借阅∞书))
查询读者“李林”共借多少本图书（已还的不算）
 (二)用SQL语言实现下列1-6小题：
检索读者号为R016的读者姓名、工作单位；
    SELECT 姓名,工作单位 FROM 读者
	WHERE 读者号=‘R016’
检索借阅图书号为B5的读者姓名；
    SELECT 姓名FROM 读者，借阅
 			WHERE书号=‘B5’ AND 读者.读者号=借阅.读者号
检索读者“李林”所借图书的书名；
    SELECT 姓名,书名 FROM 读者，借阅，书
WHERE 姓名=‘李林’ AND 读者.读者号=借阅.读者号AND书.书号=借阅.书号
检索读者“李林”所借图书中未还的书名；
    SELECT 读者号,书名 FROM 读者,借阅，书
WHERE 姓名=‘李林’ AND 读者.读者号=借阅.读者号
    AND书.书号=借阅.书号AND 还期IS NULL 
查询读者“李林”共借多少本图书（已还的不算）
    SELECT COUN(*) FROM FROM 读者,借阅，书
WHERE 姓名=‘李林’ AND 读者.读者号=借阅.读者号
    AND书.书号=借阅.书号AND 还期IS NOT NULL
将读者“李林”所借图书的信息从借阅表中删除；
    DELETE FROM借阅 WHERE借阅.读者号=（SELECT读者号FROM读者WHERE姓名=‘李林’）
建立未还图书的读者姓名和单位视图。
    CREATE VIEW NO-BOOK AS 
SELECT姓名, 单位ROM读者,借阅 
WHERE读者．读者号=借阅．读者号AND还期IS NULL
综合题 
设某单位销售产品所需管理的信息有：订单号、客户号、客户名、客户地址、产品号、产品名、产品价格、订购数量、定购日期。一个客户可以有多个订单，一个订单可以订多种产品。
（1）请给出销售信息的E-R模型；
（2）将E-R模型转换成关系模型。
(1)
（2）客户(客户号,客户名,客户地址)
      产品(产品号,产品名,产品价格)
      订单(订单号,产品号,订购日期)
      订购(订单号,产品号,订购数量)
设计一个图书馆数据库，此数据库中对每个借阅者保存读者记录，包括：读者号，姓名，地址，性别，年龄，单位。对每本书存有：书号，书名，作者，出版社。对每本被借出的书存有：读者号，借出日期和应还日期。
（1）给出图书馆数据库的E-R模型；。
2）将E-R模型转换成关系模型。（包括关系名、属性名、码和完整性约束条件）
读者 (读者号，姓名，地址，性别，年龄，单位)
书  (书号，书名，作者，出版社) 
借阅 (读者号，书号，借出日期，应还日期)
假设教学管理规定： 
①一个学生可选修多门课，一门课有若干学生选修；②一个教师可讲授多门课，一门课只有一个教师讲授；
③一个学生选修一门课，仅有一个成绩。
学生的属性有学号、学生姓名；教师的属性有教师编号，教师姓名；课程的属性有课程号、课程名。
要求：
(1) 根据上述语义画出E-R图，在E-R图中需注明实体的属性、联系的类型及实体的标识符。
(2) 将E-R模型转换成关系模型，并指出每个关系模式的主码和外码。
(3) 写出每个关系模式的函数依赖集。(4) 分析每个关系模式已经达到第几范式。
答案：

（3）教师F={教师号→教师名}
学生 F={学号→姓名，}
课程 F={课程号→课程名，课程号→任课教师号}
选修F={（学号，课程号）→成绩}
（4）都达到了BCNF
某医院病房计算机管理中需要如下信息：
科室：名称、地址、电话，医生姓名
病房：病房号，床位号，所属科室名称
医生：姓名、职称、所属科室名称、年龄、工作证号
病人：病历号、姓名、性别、诊断、主管医生、病房号
其中一个科室有多个病房、多个医生；一个病房只能属于一个科室；一个医生只属于一个科室，但可以负责多个病人的诊治，一个病人的主管医生只有一个。
设计要求：
设计该计算机管理系统的E-R图；2. 将该E-R图转换为关系模式结构；3. 指出转换结果中每个关系的键码。

2、	答案1：
科室（科室名，科室地址，科室电话）病房（病房号，床位号，科室名）医生（工作证号，姓名，职称，年龄，科室名）
	病人（病历号，姓名，性别，诊治，主管医生，病房号）
	答案2：
科室（科室名，科室地址，科室电话）病房（病房号，床位号）医生（工作证号，姓名，职称，年龄）
	病人（病历号，姓名，性别）组成（科室号，病房号）入住（病历号，病房号）从属（工作证号，科室名）
	诊治（工作证号，病历号，诊


《数据库语言程序设计》复习题
一、单选题（15×2分）
1、(      )是长期存储在计算机内的有组织,可共享的数据集合。
A．数据库管理系统     B．数据库系统
C．数据库             D．文件组织
2、(      )属于信息世界的模型，实际上是现实世界到机器世界的一个中间层次。
A．数据模型    B．概念模型    C．E-R图     D．关系模型
3、（     ）保证了数据库的数据与程序的物理独立性和逻辑独立性。
A．模式与外模式               B. 模式与内模式
C. 三级模式之间的两层映像     D. 三层模式
4、对数据库中的数据可以进行查询、插入、删除、修改（更新），这是因为数据库管理系统提供了(      )。
A. 数据定义功能     B. 数据操纵功能
C. 数据维护功能     D. 数据控制功能
5、在基本关系中，下列说法正确的是(      )。
A. 行列顺序有关                 B. 属性名允许重名
C. 任意两个元组不允许重复       D. 列是非同质的
6、在SELECT语句的WHERE子句的条件表达式中，可以匹配0个到多个字符的通配符是（      ）。
A. *     B. %     C. -     D. ?
7、下面描述错误的是（      ）。
A. 每个数据库的数据文件中有且只有一个主数据文件。
B. 日志文件可以存在于任意文件组中。
C. 主数据文件默认为primary文件组。
D. 文件组是为了更好的实现数据库文件组织。
8、表在数据库中是一个非常重要的数据对象，数据库创建后就可以创建表了，创建表可以用（      ）等方法来创建。
A．企业管理器       B. 查询分析器 
    C. OSQL             D. 企业管理器和CREATE TABLE语句 
9、下列说法中正确的是(      )。
A．SQL中局部变量可以不声明就使用
B．SQL中全局变量必须先声明再使用
C．SQL中所有变量都必须先声明后使用
D．SQL中只有局部变量先声明后使用；全局变量是由系统提供的用户不能自己建立。
10、SQL Server 2000 采用的身份验证模式有(      )。
A．仅Windows身份验证模式
B．仅SQL Server身份验证模式
C．仅混合模式
D．Windows身份验证模式和混合模式   
11、实体完整性要求主属性不能取空值，这一点可以通过(      )来保证。
A．定义外码             B．定义主码
    C．用户定义的完整性     D．关系系统自动
12、下列操作中，（    ）不是SQL Server服务器管理器功能。
A.启动SQL Server服务    B.停止SQL Server服务
C.执行SQL查询命令         D.暂停SQL Server服务
13、在SQL Server 2000中，索引的顺序和数据表的物理顺序相同的索引是（     ）。
A.聚集索引   B.非聚集索引   C.主键索引   D.唯一索引
14、SQL server数据库文件有三类，其中日志文件的后缀为（    ）。
A. .ndf      B. .ldf    C. .mdf     D. .idf
15、SQL Server2000的字符型系统数据类型主要包括（    ）。 
A. int、money、char             B. char、varchar、text 
C. datetime、binary、int        D. char、varchar、int 
答案：
1、C  2、B  3、C  4、B  5、A  6、B  7、B  8、D  9、D  10、D  11、B  12、C  13、A 
14、B  15、B

一、单项选择题
1.从关系中选出满足条件的行组成新的关系的运算称为(      ).
A. 联接 		B. 投影 		C. 选择 		D. 排序 
2.数据库管理系统能实现对数据库中基本表、视图以及索引文件的定义，这种功能称为(      )。
A.数据操纵功能  B.数据管理功能  C.数据定义功能  D.数据控制功能
3.下列(      )不属于关系模型的完整性：
A. 实体完整性   B.域完整性      C.参照完整性    D.系统完整性
4.在SQL Server 2000的管理工具中，用于开启、暂停和停止SQL服务工作的是(      )。
A.企业管理器  B.服务管理器  C.事件探查器  D.查询分析器
5. 数据库概念设计的E-R方法中，联系用(      )表示。
A.矩形  B.菱形  C.椭圆形  D.平行四边形
6. 假定学生关系是S(学号,姓名,性别,年龄)，课程关系是C(课程号,课程名,老师)，学生选课关系是SC(学号,课程号,成绩)。要查找选修“数据库”课程的“女”学生的姓名，将涉及到关系(      )：
A. S    B.  SC,C    C. S,C,SC    D. S,SC
7.在SQL语言的SELECT语句中，实现投影操作的是哪个子句(      )。
A.SELECT       B.FROM        C.WHERE      D.GROUP BY
8.下面关于索引的描述不正确的是(      )。
    A. 一个表可以建立多个簇（聚集）索引
    B. 通过索引，可以提高数据的检索速度
    C. 索引的建立和撤消对表中的数据毫无影响
    D. 表被撤消时将同时撤消在其上建立的索引
9. SQL Server触发器主要针对下列语句创建(      )。
       A. SELECT、INSERT、DELETE
       B. INSERT、UPDATE、DELETE
       C. SELECT、UPDATE、INSERT
       D. INSERT、UPDATE、CREATE
10. SQL Server的物理存储主要包括3类文件(      )。
 A. 主数据文件、次数据文件、事务日志文件
 B. 主数据文件、次数据文件、文本文件
 C. 表文件、索引文件、存储过程
D. 表文件、索引文件、图表文件
11.为了实现数据的参照完整性应该使用(      )。
A． 外键约束 	B. 检查约束 	C.非空约束  	D. 默认约束
12.删除视图salary的命令是(      )。
A. DROP salary VIEW 	       B. DROP VIEW salary
C. DELETE salary VIEW 			D. DELETE salary
13.实体集”班级”与实体集”学生”之间的联系是(      )。
A.一对多  B.一对一  C.多对多  D.都不是
14.一个关系中的属性或属性组合是另一个关系的关键字，这个属性或属性组合叫做(      )。
A.主属性      B.外码       C.码            D.非主属性
15．在定义后需要绑定操作的是(      )。
A.主键约束     B.唯一约束  C.默认对象      D. 检查约束

答案：CCDBB,  CAABA,  ABABC


一、单项选择题
1. DBMS的含义是(      )。
A. 数据库系统  B. 数据库管理系统 C. 数据库管理员  D. 数据库 
2. 从关系中指定若干个属性组成新的关系的运算称为(      )。
A. 联接 		B. 投影 		C. 选择 		D. 排序 
3. 对于“关系”的描述，正确的是(      )。
A. 同一个关系中允许有完全相同的元组
B. 同一个关系中元组必须按关键字升序存放 
C. 在一个关系中必须将关键字作为该关系的第一个属性
D. 同一个关系中不能出现相同的属性名 
4. 数据库概念设计的E-R方法中，实体用(      )表示。
矩形     B.菱形       C.椭圆形        D.平行四边形
5.创建一个数据库或数据表不可以在哪个环境中操作(      )。
A.企业管理器  B. 查询分析器  C.事件探查器  
6. 以下文件中，为主数据文件的是(      )。
A. XSCJ.LDF   B.XSCJ.MDF    C.XSCJ.NDF    D.XSCJ.TXT
7. 以下哪种情况不宜创建索引(      )。
        A. 在Where子句或Order by子句中出现频率较高的列
        B. 经常要查询的列
        C. 经常用于连接的列，如外键
        D. 需要频繁更新的列
8. 在SQL语言中，实现数据插入的语句是(      )。
INSERT  B.UPDATE  C.DELETE  D.SELECT
9. 不属于事务控制的语句是(      )。
A. Begin Transaction   B.Commit Transaction
C. RollBack            D.Create INDEX
10.假定学生关系是S(学号,姓名,性别,年龄)，课程关系是C(课程号,课程名,老师)，学生选课关系是SC(学号,课程号,成绩)。要查找“数据库”这门课程的成绩，将涉及到关系(      )。
A.S    B.  SC,C    C.S,C,SC    D.S,SC
11.使用主键约束，是为了能实现数据的(      )。
A. 实体完整性   B.表完整性 	C.参照完整性 	D. 域完整性
12.实体集”学生”与实体集”课程”之间的联系是(      )。
A.一对多        B.一对一        C.多对多       D.都不是
13.在一个关系中能够唯一标识该关系的元组的属性或属性组合叫做(      )。
A.主属性        B.外码       C.键码        D.非主属性
14．SQL Server 2000 数据库系统主要用于产品数据库服务器的是(      )。
 A. 标准版      B.企业版    C. 个人版       D. 开发版
15.关于数据库文件不正确的说法是(      )。
A.一个数据库只有数据文件和日志文件两种文件
B.  数据文件分为主文件和次文件
C.  一个数据库只有一个主文件
D.  一个数据库只有一个次文件

答案：BBDAC, BDADB, ACCBD

一、单项选择题

1.（   ）是位于用户与操作系统之间的一层数据管理软件，它属于系统软件，它为用户或应用程序提供访问数据库的方法。数据库在建立、使用和维护时由其统一管理、统一控制。
A．DBMS	B．DB
C．DBS	D．DBA
2. 触发器可引用视图或临时表，并产生两个特殊的表是（   ）。
A．Deleted、Inserted	B. Delete、Insert
C. View、Table	D. View1、table1
3．使用索引下列哪个说法是正确的（   ）。
A. 节省磁盘空间
B. 缩短查询时间
C. 在执行插入、修改、删除时节省时间
D. 与表无关
4．关于视图下列哪一个说法是错误的（   ）。
A. 视图是一种虚拟表 
B. 视图中也存有数据  
C. 视图也可由视图派生出来   
D. 视图是保存在数据库中的SELECT查询
5. 在SQL中，建立表用的命令是 (      )。
A.CREATE Database	B.CREATE TABLE
C.CREATE VIEW	D.CREATE INDEX
6.SQL语言中，条件“重量BETWEEN 150 AND 350”表示重量在150至350之间，且(      )。
A.包括150和350
B.不包括150和350
C.包括150但不包括350
D.包括350但不包括150
7.下列四项中，不正确的提法是(      )。
A.SQL语言是关系数据库的国际标准语言
B.SQL语言具有数据定义、查询、操纵和控制功能
C.SQL语言可以自动实现关系数据库的规范化
D.SQL语言称为结构查询语言
8.在MS SQL Server中，用来显示数据库信息的系统存储过程是(       )。
A. sp_dbhelp	B. sp_db
C. sp_help	D. sp_helpdb
9.SQL语言中，删除表中数据的命令是(      )。
A. DELETE	B. DROP
C. CLEAR	D. REMOVE
10.SQL的视图是从（      ）中导出的。
A. 基本表	B. 视图 
C. 基本表或视图	D. 数据库

答案：AABBB, ACDBC

       一、单选
    1. 以下哪种情况应尽量创建索引（    ）。
        A. 在Where子句中出现频率较高的列
        B. 具有很多NULL值的列
        C. 记录较少的基本表
        D. 需要更新频繁的基本表
    2. SQL Server提供的单行注释语句是使用（    ）开始的一行内容。
        A. “/*”      B. “--”      C. “｛”      D. “/”
    3. 不属于SQL Server系统全局变量的是（    ）。
        A. @@Error             B. @@Connections
        C. @@Fetch_Status      D. @Records
    4. 下列SQL Server语句中出现语法错误的是（    ）。
       A. DECLARE  @Myvar  INT
       B. SELECT  * FROM  [AAA]
       C. CREATE  DATABASE  AAA
       D. DELETE  *  FROM  AAA
    5. 索引是在基本表的列上建立的一种数据库对象，它同基本表分开存储，使用它能够加快数据的（    ）速度。
       A. 插入       B. 修改       C. 删除       D. 查询
   
答案：  1. A     2. B     3. D     4. D     5. D 
     
  一、单选
1. 当一条SELECT语句访问一张大表里的有限几行数据时，SQL Server通常会（    ）。
        A. 为数据加上页级锁　　　　　B. 为数据加上行级锁
        C. 需要用户的干涉和参与　　　D. 使用户独占数据库
    2. 以下对SQL Server描述不正确的是（    ）。
        A. 支持XML                B. 支持用户自定义函数
        C. 支持邮件集成            D. 支持网状数据模型

    3. 提高SQL Server性能的最佳方法之一是（    ）。
        A. 增大硬盘空间　　　　　　　B. 增加内存
        C. 减少数据量　　　　　　　　D. 采用高分辨率显示器
    4. 用于配置客户端网络连接的工具是（    ）。
        A. 企业管理器              B. 客户端网络实用工具
        C. 查询分析器              D. 联机帮助文档
    5. 当数据库损坏时，数据库管理员可通过何种方式恢复数据库（    ）。
        A. 事务日志文件　　　　　　B. 主数据文件
        C. DELETE语句　　　　　　  D. 联机帮助文件
    6. 语句“USE master GO SELECT * FROM sysfiles GO”包括（    ）个批处理。
        A. 1　　　　B. 2　　　　C. 3　　　　D.4
    7. 如果要在SQL Server中存储图形图像、Word文档文件，不可采用的数据类型是（    ）。
        A. binary      B. varbinary     C. image     D. text
8．在数据库系统中，视图可以提供数据的（　　　）
A．完整性     B．并发性   C．安全性     D．可恢复性
9.创建数据库的外模式使用的语句是（　　　）
A．CREATE  DATABASE     B．CREATE TABLE   
C．CREATE  VIEW          D．CREATE TRIGGER

答案：1. B     2. D     3. B     4. B     5. A     6. B   7.D  8.C   9.C

1．下列哪项不属于关系模型的完整性：
A. 实体完整性   B.域完整性      C.参照完整性    D.系统完整性
2．删除表中数据的语句是（    ）。
A. DROP	B. ALTER
C. UPDATE	D. DELETE
3.限制输入到列的值的范围，应使用（    ）约束。
A. CHECK	B. PRIMARY KEY
C. FOREIGN KEY	D. UNIQUE 
4. 触发器可引用视图或临时表，并产生两个特殊的表是（   ）。
A．Deleted、Inserted	B. Delete、Insert
C. View、Table	D. View1、table1
5．使用索引下列哪个说法是正确的（   ）。
A. 节省磁盘空间
B. 缩短查询时间
C. 在执行插入、修改、删除时节省时间
D. 与表无关
6．关于视图下列哪一个说法是错误的（   ）。
A. 视图是一种虚拟表 
B. 视图中也存有数据  
C. 视图也可由视图派生出来   
D. 视图是保存在数据库中的SELECT查询
7. 如果在SQL Server2000上运行一个非常大的数据库，为取得较好效果应选用安装（    ）。
        A. 企业版       B. 标准版       C. 个人版      D. 开发版
8. “Create  Unique  Index  AAA  On 学生表（学号）”将在学生表上创建名为AAA的（    ）。
        A. 惟一聚集索引     B. 聚集索引     C. 复合索引     D. 唯一非聚集索引
9.索引是在基本表的列上建立的一种数据库对象，它同基本表分开存储，使用它能够加快数据的（    ）速度。
       A. 插入       B. 修改       C. 删除       D. 查询


一、单项选择题(每小题2分，共20分)
1.表示年龄为20的男生的表达式为(       )
A. 年龄=20 OR 性别='男'	B. 年龄=20 AND 性别='男'
C. BETWEEN 年龄=20 AND '男' 	 D. IN (20,'男') 
2．在T-SQL语言中，为数据表增加一列（字段）时，应使用的命令是（ ） 
A．UPDATE	B. INSERT
C. ALTER	D. MODIFY
3．下列哪个不是sql 数据库文件的后缀。
A．.mdf	B．.ldf
C．.dbf	D．.ndf   
4．以下关于主键的描述正确的是（    ）。   
A.标识表中唯一的实体	         B.创建唯一的索引，允许空值 
C.只允许以表中第一字段建立	D.表中允许有多个主键 
5. 模式查找like '_a%',下面哪个结果是可能的（    ）。
A.aili	B. baily
C.bba	D. cca
6．为数据表创建索引的目的是（   ）。           
A.提高查询的检索性能	B.创建唯一索引 
C.创建主键	D.归类   
7．下列四项中，不属于SQLServer2000实用程序的是（      ）。
A.企业管理器	B.查询分析器
C.服务管理器	D.媒体播放器
8．下列标识符可以作为局部变量使用的是（   ）。
A. Myvar	B. My var
C. ＠Myvar	D. ＠My var
9.有表xs(学号，姓名),xs_kc（学号，课号，分数）,kc（课号，课名），查询所有课程成绩高于80分的学生姓名涉及的表有：
A.xs, kc	B.xs_kc
C.xs, xs_kc 	D.xs, xs_kc, kc
10.在视图上不能完成的操作是( ) 
A.更新视图数据	B.查询
C.在视图上定义新的基本表	D.在视图上定义新视图 


判断题(每题1分，共15分)
1．主键约束，唯一(索引/约束)，标识列（identity）和默认都可以实施实体完整性。	
2. 因为通过视图可以插入、修改或删除数据，因此视图也是一个实在表。
3. DELETE语句只是删除表中的数据，表本身依然存在数据库中。
4. 查询中将结果排序的子句是group by。
5. 在SQL Server系统中，数据信息和日志信息不是放在同一个文件中。
6. select getdate()的执行结果是: 系统当时的日期和时间。
7. 为数据表修改列类型应该使用命令：update ..set.. 
8. “where 条件”是对基本表数据进行筛选，而“having 条件”是对数据查询统计的结果进行筛选。
  9.  默认对象的作用与默认值类似。
10. 恢复数据，可以在查询分析器中使用命令：BACKUP DATABASE ..to..
11. 在SQL SERVER中，触发器的执行默认是在数据的插入、更新或删除这个触发动作之前执行的。
12. 日志备份只记录自上次日志备份后发生的事务情况，它可以帮助系统恢复到某一时刻的状态。
13．在数据库中建立的索引越多越好。
14．函数和存储过程是存储在服务器上的一组的Transcat-SQL语句。
15. SQL Server安装程序创建了4个系统数据库，包括master、model、msdb和pub。





1. Microsoft SQL Server 2000 企业版包含全部功能，而个人版包含最少功能。
2. 插入语句insert只能向表中一条一条的插入行，不能插入多行。
3. 当用户定义的数据类型正在被某个表的定义引用时，这些数据类型不能被删除。
4.  约束是SQL Server对数据表强制执行的限制要求，是与表一同定义一同保存并一同删除的 ，而规则对象是单独存储的数据库对象。
5. 存储过程中可以使用输入和输出参数，但在自定义函数中没有输出参数。
6. 差异备份是对上次数据库备份后发生更改的部分数据库，在执行恢复时，不需要使用完全数据库备份。
7. 实体完整性可以通过表间外键来实现。
8. 在SQL SERVER中，AFTER触发器的执行是在数据的插入、更新或删除这个触发动作之前执行的。
  9. 自定义标量函数可以在select查询的from 子句中使用。
10. 存储过程的好处是可以封装复杂的商务逻辑，并且驻留在服务器上，执行速度快。
11．在表中创建一个标识列(IDENTITY)，当用户向表中插入新的数据行时，系统会自动为该行标识列赋值。
  12. 外键约束，触发器，存储过程和规则都是实施参照完整性的途径。
  13. 当定义了XS_KC表的外键学号参照XS表的主键学号时，我们希望在XS表中改变学号值时XS_KC表的学号值也相应改变，就可以使用FOREIGN KEY 约束的选项CASCADE选项。
  14. UNION运算符是用于将两个或多个检索结果合并成一个结果。
15. 在SQL Server中用户不能建立全局变量，但可以查询全局变量的值。

1．视图本身没有保存数据，而是保存一条查询语句。
2．在表中创建一个标识列(IDENTITY)，当用户向表中插入新的数据行时，系统会自动为该行标识列赋值。
3．创建触发器的可以不是表的所有者或数据库的所有者。
4．触发器可以自动被执行的。
5．SQL Server 自动为primary key约束的列建立一个索引。
6．删除表时，表中的触发器不被同时删除。
7. 在SQL SERVER中，触发器的执行是在数据的插入、更新或删除之前执行的。
8．若执行INSERT、UPDATE 或 DELETE语句违犯约束条件时，将不执行AFTER触发器。





二、分析题（10分）
一个图书馆理系统中有如下信息：
图书：书号、书名、数量、位置
借书人：借书证号、姓名、单位
出版社：出版社名、邮编、地址、电话、E-mail
其中约定：任何人可以借多种书，任何一种书可以被多个人借，借书和还书时，要登记相应的借书日期和还书日期；一个出版社可以出版多种书籍，同一本书仅为一个出版社所出版，出版社名具有惟一性。
根据以上情况，完成如下设计：
（1）设计系统的E-R图；  5分
（2）将E-R图转换为关系模式；3分
（3）指出转换后的每个关系模式的关系键（主键，外键）。2分


解答：
（1）
















图书关系模式：图书（书号，书名，数量，位置，出版社名） 
关系主键：书号 
外键：出版社名

借书人关系模式：借书人（借书证号，姓名，单位） 
关系主键：借书证号

出版社关系模式：出版社（出版社名，邮编，地址，电话，E-mail）
关系主键：出版社名

借阅关系模式：借阅（借书证号，书号，借书日期，还书日期）
关系主键：（借书证号，书号）
外键1：借书证号
外键2：书号


三、填空题（每空题1分）
请在每小题的空格中填上正确答案。错填、不填均无分。
1.数据库系统中常用的三种数据模型有层次模型、__________和__________。
2.与数据库系统相比较，文件管理系统的数据共享性__________，数据独立性__________。
3. 数据库系统提供了模式/内模式、外模式/模式的两层映像功能，这样就使得数据既具有 _____ 独立性，又具有 _____ 独立性。 
4.关系模式的三类完整性约束条件分别是__________、参照完整性约束和__________。
5从一个表中取出满足某种条件的元组的操作，可用关系代数的________操作完成。
6、数据库系统的三级模式结构由 ______、______和_______组成。
7.视图是定义在__________之上的，对视图的一切操作最终要转换为对__________的操作。


1、数据模型通常都是由_________、_________和______________三个要素组成。
2、用二维表结构表示实体以及实体间联系的数据模型称为_____________数据模型。
3、关系中主码的取值必须惟一且非空，这条规则是_______完整性规则。
4、视图是从______________导出的表。它相当于三级结构中的________模式。
5、SQL的数据更新功能主要包括___________、_____________和_____________三个语句。
6、在SQL中如果希望将查询结果排序，应在Select语句中使用_________子句。
7、在字符匹配查询中，通配符“%”代表______________，“_”代表__________________。
8、数据库管理系统的英文缩写是__________,数据库管理员的英文缩写是__________。 
答案
1~5、数据结构、数据操作、完整性控制，关系，实体
6~10、基本表和视图、外、INSERT 、 DELETE、  UPDATE
11~15、ORDER BY，一串、一个、DBMS，DBA


四、设计题 50分
有一个[学生课程]数据库，数据库中包括三个表：
  学生表(学号，姓名，性别，年龄，所在系)  
  课程表(课程号，课程名，先修课号，学分) 
成绩表(学号，课程号，成绩) 

用SQL语言编写实现下列功能的代码：

1、建立一个[学生表]，要求设置学号属性为主键， 规定年龄大于16。
2、查询年龄在20至23岁之间的学生的姓名、系别、和年龄。
3、查询各系的人数及平均年龄。
4、计算“数据库原理”课程的学生平均成绩。
5、将计算机科学系全体学生的成绩置零。
6、创建一个“经济系”全体学生的视图V_JJX。
7、创建一个自定义函数，可以求解任意数n的阶乘累加和，即计算S = 1！+2！+3！+…… + n！，并用n=10调用该函数。
8、建一个规则，并将其绑定到学生表的所在系列上，规定取值为（'经济系','管理系','机电系', '信息系'）之一。
9、创建一个触发器，要求当更新课程表的课程号时，能更新成绩表中相应的课程号。
答案：
1、建立一个学生表。
CREATE TABLE 学生表 
(学号 CHAR(5) PRIMARY KEY,
 姓名CHAR(20),
 性别 CHAR(2),
 年龄 INT  CHECK(年龄>16),
 所在系 CHAR(15))
2、查询年龄在20至23岁之间的学生的姓名、系别、和年龄
SELECT 姓名, 所在系, 年龄
FROM 学生表
WHERE 年龄 BETWEEN 20 AND 23
3、查询各系的人数及平均年龄。
SELECT 所在系,COUNT(*),AVG(年龄) 
FROM 学生表
GROUP BY 所在系
4、计算数据库应用课程的学生平均成绩
SELECT AVG(成绩) 
FROM 成绩表
WHERE 课程号in
( SELECT 课程号 FROM 课程表 
  WHERE 课程名 ='数据库应用')
5、将计算机科学系全体学生的成绩置零
UPDATE 成绩表 
SET 成绩=0 
WHERE 学号 in
( SELECT 学号 FROM 学生表 
  WHERE 所在系 ='计算机科学系')
6、create view V_JJX
     as
select * from 学生表
WHERE 所在系 ='经济系' 
7、
CREATE  FUNCTION   F_C ( @n  INT)
RETURNS  BIGINT  AS
BEGIN
DECLARE @i  int ,  @p  bigint, @s  bigint
SELECT  @i=1,  @p=1,  @s=0
WHILE @i<=@n 
    BEGIN
         SET @p=@p*@i
         SET @s=@s+@p 
SET @i=@i+1
    END
Return @S
END 
Go
select     dbo. F_C (10)  --调用
8.
Create   rule    r_szx    as   @zc  in（'经济系','管理系','机电系', '信息系'）
go 
exec sp_bindrule   ‘r_szx’ ,  ‘学生表. 所在系’
9、
Create trigger tr_up_kc  on kc
For update
As 
Declare @kh_old char(3), @kh_new char(3)
Select  @kh_old=deleted.课程号, @kh_new=inserted.课程号
From deleted  d , inserted i
Where  d.课程名=i.课程名
Update xs_kc  set  课程号=@kh_new
Where 课程号=@kh_old

现有关系数据库如下： 
数据库名：工程管理
职工表(职工编号 char(6)，姓名，性别，民族，工资，身份证号) 
工程表(工程号 char(6)，名称) 
参加表(ID，职工编号,工程号，天数) 
用SQL语言实现下列功能的sql语句代码：
1.创建数据库，名为[工程管理]，其它参数可自己指定 (5分)。
2.创建上述三表的代码(12分)；
   要求使用以下约束：主键(职工表.职工编号，工程表.工程号)、外键(参加表.职工编号，参加表.工程号)、默认(民族：汉族)、非空(姓名)、唯一(身份证号)、检查(性别、天数在0～200之间), 自动编号(ID)
3．插入、修改与删除记录操作（12分）:
（1）向工程表插入：
工程号      工程名称
         100001      修路A段
         100003      铺路B段
   （2）修改  工程号为100003的工程名称为：基座打桩
   （3）删除  工程号为100003的工程信息        
4.	创建名为[参加表视图]的视图(姓名，工程名称，天数)；(8分)
5.	创建名为[某工程参加职工]的内嵌表值函数，完成输入一项工程号，返回表中含有参加该工程的职工的职工姓名、性别、工资、身份证号和天数；(5分)
	    调用函数检索：所有参加'100001'这项工程的职工姓名；（3分）。
6. 创建名为[职工参加天数]的存储过程：在[参加表视图]中查找某给定姓名的职工参加所有工程的总天数。 (5分)
执行存储过程：计算职工“张明”的总天数。(3分)
7． 创建一个名为[GZ_RULE]的规则，并将其绑定到职工表的工资列上，规定取值为1000元到3000元之间。(6分)
8.	创建一个名为[del_tr]的触发器，如果某人参加工程的天数不为0，就不能删除该职工的信息，即回滚撤销删除。(6分)

1.
create database [工程管理]                 --（5分）
use [工程管理]
go
2.
create table 职工表                          --（5分）
([编号] char(6) primary key,
[姓名] nchar(4) not null,
[性别] nchar(1) check([性别] in ('男', '女')),
[民族] nchar(8) default '汉族' not null,
[工资] nchar(12),
[身份证号] char(18) unique
) 

create table 工程表                          --（2分）
([工程号] char(6) primary key,
[工程名称] char(40) not null
) 

create table 参加表                          --（4分）
(ID IDENTITY(1, 1), 
[职工编号] char(6) references 职工表(职工编号),
[工程号] char(6) references 工程表(工程号),
[天数] int check([天数] between 0 and 200)
) 
3.	
insert 工程表 values('100001', '修路A段') 
insert 工程表 values('100003', '铺路B段')
update 工程表 set 名称='基座打桩' where 工程号='100003'
delete 工程表 where 工程号='100003'
4.	
create view [参加表视图] as
select 姓名, 工程名称,天数 from 职工表,参加表,工程表
where 职工表.职工编号=参加表.职工编号 AND 职工表.编号=参加表.职工编号
5.	 
create function [某工程参加职工](@工程号 varchar(6))
returns table as
return (select 姓名、性别、工资、身份证号，天数
from where 职工表.编号=参加表.职工编号 AND 工程号=@工程号)
go
select * from [某工程参加职工]('100001')
6.	
create procedure [职工参加天数] 
@职工名 nchar(16)
as
begin
   select sum (天数) from 参加表视图
   where 姓名 = @职工名 
end
go
execute [职工参加天数] '张明'
7.	
create rule  gz_rule_
as @GZ  BETWEEN 1000 AND 3000
go
sp_bindrule ‘gz_rule’, '职工表.工资'
 8.
Create trigger del_tr on 职工表
For delete
As
Begin
If (select 天数 from  参加表 where 职工号 in 
(select 职工号 from deleted) )<>0
       Rollback
       end




四、程序设计题：10分
1、计算  1+2*3+4*5+6*7……+96*97+98*99的和，并使用PRINT显示计算结果。
DECLARE @I int，@sum int，@csum char(10)
SELECT @I=________，@sum=______
WHILE  @I<=_________
   BEGIN
     SELECT @I=__________
     SELECT @sum = __________
   END
 SELECT @csum=convert(char(10),@sum)
   __________ ’1+2*3+4*5+6*7……+96*97+98*99=’ + @csum

2、假定某单位有一工资数据表，表名为GZ，部分数据如下：
 工号 	 姓名 	基本工资 	津贴	公积金 	养老保险 	失业保险 	医疗保险 
 1001 	 程  鑫 	1,200.00 	100.00 	10.00 	30.00 	20.00 	20.00 
 1002 	 李倩如 	1,100.00 	123.00 	12.00 	23.00 	23.00 	21.00 
 1103 	 张大宏 	1,111.00 	121.00 	12.00 	21.00 	21.00 	12.00 
 1104 	 赵楠欣 	1,212.00 	211.00 	13.00 	31.00 	31.00 	32.00 
对以上数据表要做如下处理：如果平均岗位津贴低于150元，则使用WHILE 循环将所有人的岗位津贴加10元，如果最高岗位津贴超过300元，则退出WHILE 循环。
USE  TEST
GO
DECLARE @avgjt decimal(4,1)
WHILE________________________ < 150
BEGIN
     UPDATE  GZ  
       SET_______________________
     IF______________________________ > 300
     BEGIN
        PRINT '最高岗位津贴超过300元'
       ____________        --中途退出WHILE循环
     END
END
SELECT @avgjt =AVG(岗位津贴)  FROM GZ
PRINT  '岗位津贴增加完毕,平均岗位津贴为：'  +  STR(@avgjt,4,1)

3. 给定一个身份证号，返回其中的省份编码和生日数据。
DECLARE @sfzh  char(18)
SET   @sfzh =’420103198909081725’
PRINT ‘省份编码是：’+ _______________
PRINT ‘生日数据是：’+________________________
GO

有一个[教学]数据库，数据库中包括三个表：
  学生(学号，姓名，性别，年龄，所在系)  
  课程(课程号，课程名，先修课号，学分) 
选课(学号，课程号，成绩) 
按照下列所给的每条SQL查询语句写出相应的功能。
    1．select distinct 所在系
         from 学生
    
    2．select count(distinct  所在系)  as 个数
         from  学生

    3．select 学生.学号,count(*) as 选课门数
         from 学生,选课
         where 学生.学号=选课.学号
         group by 学生.学号

    4．select distinct x.*
         from 学生 x,选课 y,选课 z
         where y.学号=z.学号 and y.课程号<>z.课程号 and x.学号=y.学号

    5．select x.学号,y.学号,y.课程号
          from 选课 x,选课 y
          where x.学号=@s1 and y.学号=@s2
                and x.课程号=y.课程号

    6．select *
          from 课程
          where exists (select 课程号
            from 选课
            where 课程.课程号=选课.课程号
            group by 课程号 having count(*) between 2 and 4
          )

    7．select *
          from 学生
          where 学号 in (select 学号
            from 选课
            group by 学号 having count(*)<=2    
          ) or not exists (select *
              from 选课
              where 学生.学号=选课.学号
          )

    8．select *
          from 学生 
          where not exists (select y.课程号
            from 学生 x inner join 选课 y on x.学号=y.学号
            where x.姓名=@a and not exists (select *
              from 选课
              where 学生.学号=选课.学号 and y.课程号=选课.课程号
            )
          )

答案：
1. 从教学库中查询出所有的系名。
2. 从教学库中查询出所在系的总数。
3. 从教学库中查询出每个学生选课的门数。
4. 从教学库中查询出至少选修了两门课程的全部学生。
5. 从教学库中查询出学号为@s1的学生和学号为@s2的学生所选修的共同课程的课程号。
6. 从教学库中查询出被2至4名学生选修的所有课程。
7. 从教学库中查询出最多选修了2门课程（含未选任何课程）的全部学生。
8. 从教学库中查询出选修了姓名为@a的学生的全部选课的所有学生。



Ａ卷 
一、 填空题（ 30*1分 ）
1、根据模型应用目的的不同，数据模型可以分为两类：_________和 结构数据模型 。
2、结构数据模型直接描述数据库中数据的逻辑结构，常用的结构数据模型有层次模型，_________，_________和面向对象模型，其中SQL数据库是基于_________建立的。
3、访问SQL server数据库对象时，需要经过身份验证和_________两个阶段，其中身份验证分为Windows验证模式和_______验证模式。
4、__________是存储在文件中的一系列SQL语句，即一系列按顺序提交的批处理。
5、SQL server使用__________文件记载用户对数据库进行的所有操作。
6、sp_help系统存储过程的功能是___________________。
7、数据完整性实质，存储在数据库中的数据正确无误并且相关数据具有一致性，根据完整性机制所作用的数据库对象和范围不同，可以分为：_________，_________，_________，_________四种，其中标志列（Identity）可以实现_________数据完整性。
8、SQL语言中行注释的符号为_________；块注释的符号为_________。
9、SQL server中的变量分为两种，全局变量和局部变量。其中全局变量的名称以_________字符开始，有系统定义和维护。局部变量以_________字符开始，由用户自己定义和赋值。
10、使用索引可以减少检索时间，根据索引的存储结构不同将其分为两类：_________和_________。
11、命令truncate table的功能是_______________。
12、备份是为了在数据库遭到破坏时，能够修复，数据库备份的类型有四种分别为：_________，_________，_________，_________。
13、在SQL server2000中，其权限分为三类，即_________权限、_________权限和_________权限。
14、用户对数据进行添加、修改和删除时，自动执行的存储过程称为_________。
15、对数据进行统计时，求最大值的函数是_________。
二、选择题 (10分)
1、下面存在于服务器端的组件是：（ ）。
A、服务管理器 B、企业管理器组件 C、查询分析器组件 D、导入导出组件
2、下面描述错误的是（ ）。
A、每个数据文件中有且只有一个主数据文件。B、日志文件可以存在于任意文件组中。C、主数据文件默认为primary文件组。D、文件组是为了更好的实现数据库文件组织。
3、SQL server数据库文件有三类，其中主数据文件的后缀为：A、.ndf B、.ldf C、.mdf D、.idf
4、下面标志符不合法的是：（ ）。
A、[my delete] B、_mybase C、$money D、trigger1
5、下面对索引的相关描述正确的是：（ ）。
?  经常被查询的列不适合建索引。?  列值唯一的列适合建索引。?  有很多重复值的列适合建索引。?  是外键或主键的列不适合建索引。
6、下列说法中正确的是：
A、SQL中局部变量可以不声明就使用B、SQL中全局变量必须先声明再使用C、SQL中所有变量都必须先声明后使用D、SQL中只有局部变量先声明后使用；全局变量是由系统提供的用户不能自己建立。
7、下面字符串能与通配符表达式[ABC]%a进行匹配的是：（ ）。 A、BCDEF B、A_BCD C、ABC_a D、A%a
8、 下列语句中正确的是 _______ 。表 score(sti_id,names,math,English,VB)
?  select stu_id,sum(math) from score?  select sum(math),avg(VB) from score?  select * ,sum(english) from score?  delete * from score
9、 下列说法正确的是 _______ 。
A 、视图是观察数据的一种方法，只能基于基本表建立。
B 、视图是虚表，观察到的数据是实际基本表中的数据。
C 、索引查找法一定比表扫描法查询速度快。
D 、索引的创建只和数据的存储有关系。
?  下列途径哪个不是实现值域完整性 _______ 。
A 、 rule( 规则 ) B 、 primary key C 、 not null D 、 default
三、简答题。 (15分)
1、简述视图的意义和优点？
2、列出Sql Server数据库中常见的数据库对象。
四、综合应用题。（ 45分）
学生选课系统，主要表有：
学生基本信息表（学号、姓名、性别、专业、出生年月），选课表（学号、课程号、分数），课程表（课程号、课程名、所属专业、学分）要求：
1、用E-R图表示上述关系的概念模型。（8分）
2、用表的形式表示每张表的关系模式(字段名，数据类型),并标出各表上的应该添加的约束。(7分)
3、写出SQL语句。
1) 查询所有选SQL课程的学生学号，姓名和专业。(5分)
2) 删除所有选择数学的同学的选课记录。(5分)
3) 查询有哪些课程没有被任何同学报选。(5分) 

　　　　　　　　　　　　　　　 B卷

一、 填空题（ 20*2分 ）
E-R 数据模型一般在数据库设计的 _______ 阶段使用。
  根据模型应用目的的不同，数据模型可以分为两类：一类是 _________，是按用户的观点来对数据和信息进行抽象；另一类是_________，是按计算机的观点建模。
?  结构数据模型直接描述数据库中数据的逻辑结构，常用的结构数据模型有 _________，_________，_________，_________。
?  命令 truncate table的功能是_______________。
?  数据完整性 是指 存储在数据库中的数据正确无误并且相关数据具有一致性，根据完整性机制所作用的数据库对象和范围不同，可以分为： _________，_________，_________，_________四种，其中主键可以实现_________完整性。
?  模糊查询符号 % 代表 _______ ，查询条件 e%im 代表意思是 _______ 。
?  使用索引可以减少检索时间，根据索引的存储结构不同将其分为两类： _________和_________。
?  SQL server中的变量分为两种，全局变量和局部变量。其中全局变量的名称以_________字符开始，有系统定义和维护。局部变量以_________字符开始，由用户自己定义和赋值。
?  实现数据完整性的途径有 _______ 、 _______ 、 _______ 、 _______ 等。
?  选择题 (10*2分)
?  下面仅存在于服务器端的组件是：（ ）
A、服务管理器 B、企业管理器组件　C、查询分析器组件 D、导入导出组件
2、下面描述错误的是（ ）。
?  每个数据文件中有且只有一个主数据文件。　?  日志文件可以存在于任意文件组中。?  主数据文件默认为 primary文件组。?  文件组是为了更好的实现数据库文件组织。
3、下面标志符不合法的是：（ ）。
A、[my delete] B、_mybase C、$money D、trigger1
4、下面字符串能与通配符表达式[ABC] _ a进行匹配的是：（ ）。
A、BCDEF B、A_BCD C、ABa D、A%a
5、下面是合法的smallint数据类型数据的是：（ ）。
A、223．5 B、32768 C、-32767 D、58345
6 、关系数据模型 _______ 。
?  只能表示实体间的 1 ： 1 联系
?  只能表示实体间的 1 ： n 联系
?  只能表示实体间的 m ： n 联系
?  只能表示实体间的上述 3 种联系
?  数据库概念模式产生于数据库系统设计的 _______ 阶段。
A 、规划 B 、需求分析 C 、概念设计 D 、逻辑设计
8 、 客观存在的各种报表、图表和查询格式等原始数据属于 _______ 。
A 、机器世界 B 、信息世界 C 、现实世界 D 、模型世界
9、SQL server数据库文件有三类，其中主数据文件的后缀为：
A、.ndf B、.ldf C、.mdf D、.idf
10 、下列语句中正确的是 _______ 。表 score(sti_id,names,math,English,VB)
?  select stu_id,sum(math) from score
?  select sum(math),avg(VB) from score
?  select * ,sum(english) from score
?  delete * from score
三、简答题。 (10分)
1、简述视图的意义和优点？
2、 试述如何有效的保护数据库的安全？
四、综合应用题。（ 30分）
学生选课系统，主要表有：学生基本信息表（学号、姓名、性别、专业、出生年月等），选课表（学号、课程号、分数），课程表（课程号、课程名、所属专业、学分）要求：
1、用E-R图表示上述关系的概念模型。（5分）
3、写出SQL语句。
1) 查询所有选SQL课程的学生学号，姓名和专业。(5分)
2) 删除所有选择数学的同学的选课记录。(5分)
3) 查询有哪些课程没有被任何同学报选。(5分)
4、创建存储过程。(10分)
1)、能够查询出选修任何课程的学生信息及相应的分数。
2)、以表格的形式返回本课程的平均分数。 

答案：
A 卷答案：
?  填空题。
1 概念模型 2?  网状模型、关系模型，关系模型　　3?  权限验证、混合　　4?  脚本　　5?  日志文件　6?  显示数据对象的相关属性　7?  实体完整性、值域完整性、引用完整性、值域完整性，实体完整性　8?  -- ， /* */　9?  @@ ， @
10 、簇集索引、非簇集索引11 、清空数据库12 、数据库备份，事务日志备份，差异备份，文件和文件组备份事务13 、对象、语句、隐含14 、触发器15 、 MAX()
?  选择题。1~5 A 、 B 、 C 、 C 、 C 6~10 D 、 C 、 B 、 B 、 B
?  简答题1 、（ 1 ）分割数据，简化优点 （ 2 ）简化操作 （ 3 ）提供自动的安全保护功能 （ 4 ）为数据库重构提供一定的逻辑独立性。
　　　　 2 、表、存储过程、触发器、视图、规则、默认值、索引等
?  综合题答案略　< 答案不固定，主要看编程思路 >
B 卷答案：
?  填空题
1  概念设计阶段　2?  概念模型、结构数据模型　3?  层次模型、网状模型、关系模型、面向对象模型　4?  清空数据库　5?  实体完整性、值域完整性、引用完整性、值域完整性、实体完整性　6?  任意字符 查询以 e 开头中间任意字符（串） im 结尾的字符串7?  簇集索引、非簇集索引　8?  @@ 、 @　9?  约束 默认 规则 存储过程等
?  选择题　1~5 A 、 B 、 C 、 C 、 C 6~10 D 、 C 、 B 、 C 、 B
?  简答题
答：（一）?  分割数据，简化优点?  简化操作?  提供自动的安全保护功能?  为数据库重构提供一定的逻辑独立性。
　　 （二）数据库完整性、视图、存储过程等。
?  综合题答案略　< 答案不固定，主要看编程思路
R	R	R
A	B	C
a	1	2
b	1	2
b	3	4
c	1	2
d	3	4
S	S
b	C
1	2
3	4
1	2	3	4	5	6	7	8	9
D	D	D	A	B	B	A	D	D
1	2	3	4	5	6	7	8	9	10
B	C	D	D	B	A	D	C	C	C
1	2	3	4	5	6	7	8	9	10	11	12	13	14	15
N	N	Y	N	Y	Y	N	Y	Y	N	N	Y	N	Y	N
1	2	3	4	5	6	7	8	9	10	11	12	13	14	15
Y	N	Y	Y	Y	N	N	N	N	Y	Y	N	Y	Y	Y
1	2	3	4	5	6	7	8
Y	Y	N	N	Y	N	N	Y